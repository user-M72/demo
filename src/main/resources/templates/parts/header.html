<div th:fragment="header" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
  <div class="d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom shadow-sm">
    <h5 class="my-0 mr-md-auto font-weight-normal">Web blogger</h5>

    <nav class="my-2 my-md-0 mr-md-3">
      <a class="p-2 text-dark" href="/">Home</a>
      <a class="p-2 text-dark" href="/blog">Blog</a>
      <a class="p-2 text-dark" href="/info">Info</a>
      <a class="p-2 text-dark" href="/profile" sec:authorize="isAuthenticated()">Profile</a>
      <a class="p-2 text-dark" href="/register" sec:authorize="!isAuthenticated()">Register</a>
    </nav>

    <div class="ms-auto d-flex align-items-center gap-2">
      <!-- Показывается, если пользователь вошёл -->
      <form th:if="${username}">
        Hello, <strong th:text="${username}">Username</strong>
      </form>

      <!-- Показывается, если НЕ вошёл -->
<!--      <a href="/login"  class="btn btn-outline-primary" sec:authorize="!isAuthenticated()">LOGIN</a>-->

      <!-- Показывается, если вошёл -->
      <form th:action="@{/logout}" method="post" sec:authorize="isAuthenticated()">
        <button type="submit" class="btn btn-outline-danger">LOGOUT</button>
      </form>
    </div>
  </div>
</div>
